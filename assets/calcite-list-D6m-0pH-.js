import{bc as mt,bd as bt,b7 as v,be as Hn,fi as ce,ff as Bn}from"./index-r0Ml_rWi.js";import{n as fe,t as zn}from"./dom-BPbCpRt5.js";import{c as Xt,u as Yt,d as Gt,I as Wt}from"./interactive-DgF0Ftrp.js";import{c as $n}from"./observers-CRkxBiz6.js";import{M as Xn}from"./resources4-CG_EDmnl.js";import{u as Yn,a as Gn}from"./utils3-BQbM-cBw.js";import{s as Ut,a as Kt,c as qt}from"./loadable-DTvGDbd4.js";import{u as Vt,s as Zt,c as Qt,d as Jt}from"./t9n-LRUhMIjH.js";import{c as en,d as tn,n as Ct}from"./locale-CiZpMdDK.js";import{S as Dt,i as vt,r as Wn,b as Et,f as Un,a as Kn,c as nn,d as an}from"./debounce-D6yshMOT.js";import{d as rn}from"./icon-sPMLizGh.js";import{a as on,d as sn}from"./input2-4Oh396vD.js";import{d as ln}from"./input-message-eGiKpPIx.js";import{d as qn}from"./loader-BfRr5PX1.js";import{d as Vn}from"./scrim-DkBYFMxI.js";import"./key-B_WHzdFR.js";import"./form-CvGNACFt.js";import"./label-CrVzCBtT.js";import"./component-Cv4KMGPc.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.0
 *//**!
 * Sortable 1.15.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xt(Object(n),!0).forEach(function(i){Zn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$e=function(e){return typeof e}:$e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(t)}function Zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(){return V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V.apply(this,arguments)}function Qn(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,r;for(r=0;r<i.length;r++)a=i[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Jn(t,e){if(t==null)return{};var n=Qn(t,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var ei="1.15.1";function q(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Z=q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ke=q(/Edge/i),Tt=q(/firefox/i),_e=q(/safari/i)&&!q(/chrome/i)&&!q(/android/i),cn=q(/iP(ad|od|hone)/i),dn=q(/chrome/i)&&q(/android/i),fn={capture:!1,passive:!1};function I(t,e,n){t.addEventListener(e,n,!Z&&fn)}function S(t,e,n){t.removeEventListener(e,n,!Z&&fn)}function Ue(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function un(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Y(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Ue(t,e):Ue(t,e))||i&&t===n)return t;if(t===n)break}while(t=un(t))}return null}var _t=/\s+/g;function N(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(_t," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(_t," ")}}function h(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function ve(t,e){var n="";if(typeof t=="string")n=t;else do{var i=h(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function hn(t,e,n){if(t){var i=t.getElementsByTagName(e),a=0,r=i.length;if(n)for(;a<r;a++)n(i[a],a);return i}return[]}function G(){var t=document.scrollingElement;return t||document.documentElement}function _(t,e,n,i,a){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,s,l,c,f,u;if(t!==window&&t.parentNode&&t!==G()?(r=t.getBoundingClientRect(),o=r.top,s=r.left,l=r.bottom,c=r.right,f=r.height,u=r.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(a=a||t.parentNode,!Z))do if(a&&a.getBoundingClientRect&&(h(a,"transform")!=="none"||n&&h(a,"position")!=="static")){var g=a.getBoundingClientRect();o-=g.top+parseInt(h(a,"border-top-width")),s-=g.left+parseInt(h(a,"border-left-width")),l=o+r.height,c=s+r.width;break}while(a=a.parentNode);if(i&&t!==window){var E=ve(a||t),y=E&&E.a,b=E&&E.d;E&&(o/=b,s/=y,u/=y,f/=b,l=o+f,c=s+u)}return{top:o,left:s,bottom:l,right:c,width:u,height:f}}}function pn(t){var e=_(t),n=parseInt(h(t,"padding-left")),i=parseInt(h(t,"padding-top")),a=parseInt(h(t,"padding-right")),r=parseInt(h(t,"padding-bottom"));return e.top+=i+parseInt(h(t,"border-top-width")),e.left+=n+parseInt(h(t,"border-left-width")),e.width=t.clientWidth-n-a,e.height=t.clientHeight-i-r,e.bottom=e.top+e.height,e.right=e.left+e.width,e}function At(t,e,n){for(var i=ie(t,!0),a=_(t)[e];i;){var r=_(i)[n],o=void 0;if(o=a>=r,!o)return i;if(i===G())break;i=ie(i,!1)}return!1}function Ee(t,e,n,i){for(var a=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==p.ghost&&(i||o[r]!==p.dragged)&&Y(o[r],n.draggable,t,!1)){if(a===e)return o[r];a++}r++}return null}function yt(t,e){for(var n=t.lastElementChild;n&&(n===p.ghost||h(n,"display")==="none"||e&&!Ue(n,e));)n=n.previousElementSibling;return n||null}function H(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==p.clone&&(!e||Ue(t,e))&&n++;return n}function Ot(t){var e=0,n=0,i=G();if(t)do{var a=ve(t),r=a.a,o=a.d;e+=t.scrollLeft*r,n+=t.scrollTop*o}while(t!==i&&(t=t.parentNode));return[e,n]}function ti(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function ie(t,e){if(!t||!t.getBoundingClientRect)return G();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=h(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return G();if(i||e)return n;i=!0}}while(n=n.parentNode);return G()}function ni(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function et(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ae;function gn(t,e){return function(){if(!Ae){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),Ae=setTimeout(function(){Ae=void 0},e)}}}function ii(){clearTimeout(Ae),Ae=void 0}function mn(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function bn(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var j="Sortable"+new Date().getTime();function ai(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(a){if(!(h(a,"display")==="none"||a===p.ghost)){t.push({target:a,rect:_(a)});var r=W({},t[t.length-1].rect);if(a.thisAnimationDuration){var o=ve(a,!0);o&&(r.top-=o.f,r.left-=o.e)}a.fromRect=r}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(ti(t,{target:i}),1)},animateAll:function(i){var a=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var r=!1,o=0;t.forEach(function(s){var l=0,c=s.target,f=c.fromRect,u=_(c),g=c.prevFromRect,E=c.prevToRect,y=s.rect,b=ve(c,!0);b&&(u.top-=b.f,u.left-=b.e),c.toRect=u,c.thisAnimationDuration&&et(g,u)&&!et(f,u)&&(y.top-u.top)/(y.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(l=oi(y,g,E,a.options)),et(u,f)||(c.prevFromRect=f,c.prevToRect=u,l||(l=a.options.animation),a.animate(c,y,u,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),t=[]},animate:function(i,a,r,o){if(o){h(i,"transition",""),h(i,"transform","");var s=ve(this.el),l=s&&s.a,c=s&&s.d,f=(a.left-r.left)/(l||1),u=(a.top-r.top)/(c||1);i.animatingX=!!f,i.animatingY=!!u,h(i,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=ri(i),h(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),h(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){h(i,"transition",""),h(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function ri(t){return t.offsetWidth}function oi(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var ue=[],tt={initializeByDefault:!0},Me={mount:function(e){for(var n in tt)tt.hasOwnProperty(n)&&!(n in e)&&(e[n]=tt[n]);ue.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ue.push(e)},pluginEvent:function(e,n,i){var a=this;this.eventCanceled=!1,i.cancel=function(){a.eventCanceled=!0};var r=e+"Global";ue.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][r]&&n[o.pluginName][r](W({sortable:n},i)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](W({sortable:n},i)))})},initializePlugins:function(e,n,i,a){ue.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,V(i,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,n){var i={};return ue.forEach(function(a){typeof a.eventProperties=="function"&&V(i,a.eventProperties.call(n[a.pluginName],e))}),i},modifyOption:function(e,n,i){var a;return ue.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(a=r.optionListeners[n].call(e[r.pluginName],i))}),a}};function si(t){var e=t.sortable,n=t.rootEl,i=t.name,a=t.targetEl,r=t.cloneEl,o=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,f=t.oldDraggableIndex,u=t.newDraggableIndex,g=t.originalEvent,E=t.putSortable,y=t.extraEventProperties;if(e=e||n&&n[j],!!e){var b,B=e.options,U="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Z&&!ke?b=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(i,!0,!0)),b.to=o||n,b.from=s||n,b.item=a||n,b.clone=r,b.oldIndex=l,b.newIndex=c,b.oldDraggableIndex=f,b.newDraggableIndex=u,b.originalEvent=g,b.pullMode=E?E.lastPutMode:void 0;var L=W(W({},y),Me.getEventProperties(i,e));for(var z in L)b[z]=L[z];n&&n.dispatchEvent(b),B[U]&&B[U].call(e,b)}}var li=["evt"],F=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.evt,r=Jn(i,li);Me.pluginEvent.bind(p)(e,n,W({dragEl:d,parentEl:x,ghostEl:m,rootEl:C,nextEl:de,lastDownEl:Xe,cloneEl:D,cloneHidden:ne,dragStarted:De,putSortable:A,activeSortable:p.active,originalEvent:a,oldIndex:me,oldDraggableIndex:Oe,newIndex:R,newDraggableIndex:te,hideGhostForTarget:Sn,unhideGhostForTarget:In,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(s){P({sortable:n,name:s,originalEvent:a})}},r))};function P(t){si(W({putSortable:A,cloneEl:D,targetEl:d,rootEl:C,oldIndex:me,oldDraggableIndex:Oe,newIndex:R,newDraggableIndex:te},t))}var d,x,m,C,de,Xe,D,ne,me,R,Oe,te,Re,A,ge=!1,Ke=!1,qe=[],se,$,nt,it,Lt,Pt,De,he,Le,Pe=!1,je=!1,Ye,O,at=[],ft=!1,Ve=[],Qe=typeof document<"u",He=cn,Ft=ke||Z?"cssFloat":"float",ci=Qe&&!dn&&!cn&&"draggable"in document.createElement("div"),vn=function(){if(Qe){if(Z)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),En=function(e,n){var i=h(e),a=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=Ee(e,0,n),o=Ee(e,1,n),s=r&&h(r),l=o&&h(o),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+_(r).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+_(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var u=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=a&&i[Ft]==="none"||o&&i[Ft]==="none"&&c+f>a)?"vertical":"horizontal"},di=function(e,n,i){var a=i?e.left:e.top,r=i?e.right:e.bottom,o=i?e.width:e.height,s=i?n.left:n.top,l=i?n.right:n.bottom,c=i?n.width:n.height;return a===s||r===l||a+o/2===s+c/2},fi=function(e,n){var i;return qe.some(function(a){var r=a[j].options.emptyInsertThreshold;if(!(!r||yt(a))){var o=_(a),s=e>=o.left-r&&e<=o.right+r,l=n>=o.top-r&&n<=o.bottom+r;if(s&&l)return i=a}}),i},yn=function(e){function n(r,o){return function(s,l,c,f){var u=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(r==null&&(o||u))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return n(r(s,l,c,f),o)(s,l,c,f);var g=(o?s:l).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var i={},a=e.group;(!a||$e(a)!="object")&&(a={name:a}),i.name=a.name,i.checkPull=n(a.pull,!0),i.checkPut=n(a.put),i.revertClone=a.revertClone,e.group=i},Sn=function(){!vn&&m&&h(m,"display","none")},In=function(){!vn&&m&&h(m,"display","")};Qe&&!dn&&document.addEventListener("click",function(t){if(Ke)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ke=!1,!1},!0);var le=function(e){if(d){e=e.touches?e.touches[0]:e;var n=fi(e.clientX,e.clientY);if(n){var i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[j]._onDragOver(i)}}},ui=function(e){d&&d.parentNode[j]._isOutsideThisEl(e.target)};function p(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=V({},e),t[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return En(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!_e,emptyInsertThreshold:5};Me.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);yn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ci,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?I(t,"pointerdown",this._onTapStart):(I(t,"mousedown",this._onTapStart),I(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(t,"dragover",this),I(t,"dragenter",this)),qe.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),V(this,ai())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(he=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,a=this.options,r=a.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=a.filter;if(yi(i),!d&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&_e&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Y(l,a.draggable,i,!1),!(l&&l.animated)&&Xe!==l)){if(me=H(l),Oe=H(l,a.draggable),typeof f=="function"){if(f.call(this,e,l,this)){P({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:i,fromEl:i}),F("filter",n,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=Y(c,u.trim(),i,!1),u)return P({sortable:n,rootEl:u,name:"filter",targetEl:l,fromEl:i,toEl:i}),F("filter",n,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!Y(c,a.handle,i,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,n,i){var a=this,r=a.el,o=a.options,s=r.ownerDocument,l;if(i&&!d&&i.parentNode===r){var c=_(i);if(C=r,d=i,x=d.parentNode,de=d.nextSibling,Xe=i,Re=o.group,p.dragged=d,se={target:d,clientX:(n||e).clientX,clientY:(n||e).clientY},Lt=se.clientX-c.left,Pt=se.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,d.style["will-change"]="all",l=function(){if(F("delayEnded",a,{evt:e}),p.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Tt&&a.nativeDraggable&&(d.draggable=!0),a._triggerDragStart(e,n),P({sortable:a,name:"choose",originalEvent:e}),N(d,o.chosenClass,!0)},o.ignore.split(",").forEach(function(f){hn(d,f.trim(),rt)}),I(s,"dragover",le),I(s,"mousemove",le),I(s,"touchmove",le),I(s,"mouseup",a._onDrop),I(s,"touchend",a._onDrop),I(s,"touchcancel",a._onDrop),Tt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),F("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ke||Z))){if(p.eventCanceled){this._onDrop();return}I(s,"mouseup",a._disableDelayedDrag),I(s,"touchend",a._disableDelayedDrag),I(s,"touchcancel",a._disableDelayedDrag),I(s,"mousemove",a._delayedDragTouchMoveHandler),I(s,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&I(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&rt(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):n?I(document,"touchmove",this._onTouchMove):I(document,"mousemove",this._onTouchMove):(I(d,"dragend",this),I(C,"dragstart",this._onDragStart));try{document.selection?Ge(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ge=!1,C&&d){F("dragStarted",this,{evt:n}),this.nativeDraggable&&I(document,"dragover",ui);var i=this.options;!e&&N(d,i.dragClass,!1),N(d,i.ghostClass,!0),p.active=this,e&&this._appendGhost(),P({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if($){this._lastX=$.clientX,this._lastY=$.clientY,Sn();for(var e=document.elementFromPoint($.clientX,$.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint($.clientX,$.clientY),e!==n);)n=e;if(d.parentNode[j]._isOutsideThisEl(e),n)do{if(n[j]){var i=void 0;if(i=n[j]._onDragOver({clientX:$.clientX,clientY:$.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=un(n));In()}},_onTouchMove:function(e){if(se){var n=this.options,i=n.fallbackTolerance,a=n.fallbackOffset,r=e.touches?e.touches[0]:e,o=m&&ve(m,!0),s=m&&o&&o.a,l=m&&o&&o.d,c=He&&O&&Ot(O),f=(r.clientX-se.clientX+a.x)/(s||1)+(c?c[0]-at[0]:0)/(s||1),u=(r.clientY-se.clientY+a.y)/(l||1)+(c?c[1]-at[1]:0)/(l||1);if(!p.active&&!ge){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(m){o?(o.e+=f-(nt||0),o.f+=u-(it||0)):o={a:1,b:0,c:0,d:1,e:f,f:u};var g="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");h(m,"webkitTransform",g),h(m,"mozTransform",g),h(m,"msTransform",g),h(m,"transform",g),nt=f,it=u,$=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:C,n=_(d,!0,He,!0,e),i=this.options;if(He){for(O=e;h(O,"position")==="static"&&h(O,"transform")==="none"&&O!==document;)O=O.parentNode;O!==document.body&&O!==document.documentElement?(O===document&&(O=G()),n.top+=O.scrollTop,n.left+=O.scrollLeft):O=G(),at=Ot(O)}m=d.cloneNode(!0),N(m,i.ghostClass,!1),N(m,i.fallbackClass,!0),N(m,i.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",n.top),h(m,"left",n.left),h(m,"width",n.width),h(m,"height",n.height),h(m,"opacity","0.8"),h(m,"position",He?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),h(m,"transform-origin",Lt/parseInt(m.style.width)*100+"% "+Pt/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,a=e.dataTransfer,r=i.options;if(F("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}F("setupClone",this),p.eventCanceled||(D=bn(d),D.removeAttribute("id"),D.draggable=!1,D.style["will-change"]="",this._hideClone(),N(D,this.options.chosenClass,!1),p.clone=D),i.cloneId=Ge(function(){F("clone",i),!p.eventCanceled&&(i.options.removeCloneOnHide||C.insertBefore(D,d),i._hideClone(),P({sortable:i,name:"clone"}))}),!n&&N(d,r.dragClass,!0),n?(Ke=!0,i._loopId=setInterval(i._emulateDragOver,50)):(S(document,"mouseup",i._onDrop),S(document,"touchend",i._onDrop),S(document,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(i,a,d)),I(document,"drop",i),h(d,"transform","translateZ(0)")),ge=!0,i._dragStartId=Ge(i._dragStarted.bind(i,n,e)),I(document,"selectstart",i),De=!0,_e&&h(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,a,r,o,s=this.options,l=s.group,c=p.active,f=Re===l,u=s.sort,g=A||c,E,y=this,b=!1;if(ft)return;function B(Ce,Rn){F(Ce,y,W({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:o,dragRect:a,targetRect:r,canSort:u,fromSortable:g,target:i,completed:L,onMove:function(wt,jn){return Be(C,n,d,a,wt,_(wt),e,jn)},changed:z},Rn))}function U(){B("dragOverAnimationCapture"),y.captureAnimationState(),y!==g&&g.captureAnimationState()}function L(Ce){return B("dragOverCompleted",{insertion:Ce}),Ce&&(f?c._hideClone():c._showClone(y),y!==g&&(N(d,A?A.options.ghostClass:c.options.ghostClass,!1),N(d,s.ghostClass,!0)),A!==y&&y!==p.active?A=y:y===p.active&&A&&(A=null),g===y&&(y._ignoreWhileAnimating=i),y.animateAll(function(){B("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(i===d&&!d.animated||i===n&&!i.animated)&&(he=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(d.parentNode[j]._isOutsideThisEl(e.target),!Ce&&le(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function z(){R=H(d),te=H(d,s.draggable),P({sortable:y,name:"change",toEl:n,newIndex:R,newDraggableIndex:te,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Y(i,s.draggable,n,!0),B("dragOver"),p.eventCanceled)return b;if(d.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||y._ignoreWhileAnimating===i)return L(!1);if(Ke=!1,c&&!s.disabled&&(f?u||(o=x!==C):A===this||(this.lastPutMode=Re.checkPull(this,c,d,e))&&l.checkPut(this,c,d,e))){if(E=this._getDirection(e,i)==="vertical",a=_(d),B("dragOverValid"),p.eventCanceled)return b;if(o)return x=C,U(),this._hideClone(),B("revert"),p.eventCanceled||(de?C.insertBefore(d,de):C.appendChild(d)),L(!0);var k=yt(n,s.draggable);if(!k||mi(e,E,this)&&!k.animated){if(k===d)return L(!1);if(k&&n===e.target&&(i=k),i&&(r=_(i)),Be(C,n,d,a,i,r,e,!!i)!==!1)return U(),k&&k.nextSibling?n.insertBefore(d,k.nextSibling):n.appendChild(d),x=n,z(),L(!0)}else if(k&&gi(e,E,this)){var ae=Ee(n,0,s,!0);if(ae===d)return L(!1);if(i=ae,r=_(i),Be(C,n,d,a,i,r,e,!1)!==!1)return U(),n.insertBefore(d,ae),x=n,z(),L(!0)}else if(i.parentNode===n){r=_(i);var X=0,re,ye=d.parentNode!==n,M=!di(d.animated&&d.toRect||a,i.animated&&i.toRect||r,E),Se=E?"top":"left",Q=At(i,"top","top")||At(d,"top","top"),Ie=Q?Q.scrollTop:void 0;he!==i&&(re=r[Se],Pe=!1,je=!M&&s.invertSwap||ye),X=bi(e,i,r,E,M?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,je,he===i);var K;if(X!==0){var oe=H(d);do oe-=X,K=x.children[oe];while(K&&(h(K,"display")==="none"||K===m))}if(X===0||K===i)return L(!1);he=i,Le=X;var we=i.nextElementSibling,J=!1;J=X===1;var Ne=Be(C,n,d,a,i,r,e,J);if(Ne!==!1)return(Ne===1||Ne===-1)&&(J=Ne===1),ft=!0,setTimeout(pi,30),U(),J&&!we?n.appendChild(d):i.parentNode.insertBefore(d,J?we:i),Q&&mn(Q,0,Ie-Q.scrollTop),x=d.parentNode,re!==void 0&&!je&&(Ye=Math.abs(re-_(i)[Se])),z(),L(!0)}if(n.contains(d))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",le),S(document,"mousemove",le),S(document,"touchmove",le)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(R=H(d),te=H(d,i.draggable),F("drop",this,{evt:e}),x=d&&d.parentNode,R=H(d),te=H(d,i.draggable),p.eventCanceled){this._nulling();return}ge=!1,je=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ut(this.cloneId),ut(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_e&&h(document.body,"user-select",""),h(d,"transform",""),e&&(De&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(C===x||A&&A.lastPutMode!=="clone")&&D&&D.parentNode&&D.parentNode.removeChild(D),d&&(this.nativeDraggable&&S(d,"dragend",this),rt(d),d.style["will-change"]="",De&&!ge&&N(d,A?A.options.ghostClass:this.options.ghostClass,!1),N(d,this.options.chosenClass,!1),P({sortable:this,name:"unchoose",toEl:x,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==x?(R>=0&&(P({rootEl:x,name:"add",toEl:x,fromEl:C,originalEvent:e}),P({sortable:this,name:"remove",toEl:x,originalEvent:e}),P({rootEl:x,name:"sort",toEl:x,fromEl:C,originalEvent:e}),P({sortable:this,name:"sort",toEl:x,originalEvent:e})),A&&A.save()):R!==me&&R>=0&&(P({sortable:this,name:"update",toEl:x,originalEvent:e}),P({sortable:this,name:"sort",toEl:x,originalEvent:e})),p.active&&((R==null||R===-1)&&(R=me,te=Oe),P({sortable:this,name:"end",toEl:x,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){F("nulling",this),C=d=x=m=de=D=Xe=ne=se=$=De=R=te=me=Oe=he=Le=A=Re=p.dragged=p.ghost=p.clone=p.active=null,Ve.forEach(function(e){e.checked=!0}),Ve.length=nt=it=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),hi(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,a=0,r=i.length,o=this.options;a<r;a++)n=i[a],Y(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||Ei(n));return e},sort:function(e,n){var i={},a=this.el;this.toArray().forEach(function(r,o){var s=a.children[o];Y(s,this.options.draggable,a,!1)&&(i[r]=s)},this),n&&this.captureAnimationState(),e.forEach(function(r){i[r]&&(a.removeChild(i[r]),a.appendChild(i[r]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Y(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var a=Me.modifyOption(this,e,n);typeof a<"u"?i[e]=a:i[e]=n,e==="group"&&yn(i)},destroy:function(){F("destroy",this);var e=this.el;e[j]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qe.splice(qe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(F("hideClone",this),p.eventCanceled)return;h(D,"display","none"),this.options.removeCloneOnHide&&D.parentNode&&D.parentNode.removeChild(D),ne=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ne){if(F("showClone",this),p.eventCanceled)return;d.parentNode==C&&!this.options.group.revertClone?C.insertBefore(D,d):de?C.insertBefore(D,de):C.appendChild(D),this.options.group.revertClone&&this.animate(d,D),h(D,"display",""),ne=!1}}};function hi(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Be(t,e,n,i,a,r,o,s){var l,c=t[j],f=c.options.onMove,u;return window.CustomEvent&&!Z&&!ke?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=a||e,l.relatedRect=r||_(e),l.willInsertAfter=s,l.originalEvent=o,t.dispatchEvent(l),f&&(u=f.call(c,l,o)),u}function rt(t){t.draggable=!1}function pi(){ft=!1}function gi(t,e,n){var i=_(Ee(n.el,0,n.options,!0)),a=pn(n.el),r=10;return e?t.clientX<a.left-r||t.clientY<i.top&&t.clientX<i.right:t.clientY<a.top-r||t.clientY<i.bottom&&t.clientX<i.left}function mi(t,e,n){var i=_(yt(n.el,n.options.draggable)),a=pn(n.el),r=10;return e?t.clientX>a.right+r||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>a.bottom+r||t.clientX>i.right&&t.clientY>i.top}function bi(t,e,n,i,a,r,o,s){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,f=i?n.top:n.left,u=i?n.bottom:n.right,g=!1;if(!o){if(s&&Ye<c*a){if(!Pe&&(Le===1?l>f+c*r/2:l<u-c*r/2)&&(Pe=!0),Pe)g=!0;else if(Le===1?l<f+Ye:l>u-Ye)return-Le}else if(l>f+c*(1-a)/2&&l<u-c*(1-a)/2)return vi(e)}return g=g||o,g&&(l<f+c*r/2||l>u-c*r/2)?l>f+c/2?1:-1:0}function vi(t){return H(d)<H(t)?1:-1}function Ei(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function yi(t){Ve.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Ve.push(i)}}function Ge(t){return setTimeout(t,0)}function ut(t){return clearTimeout(t)}Qe&&I(document,"touchmove",function(t){(p.active||ge)&&t.cancelable&&t.preventDefault()});p.utils={on:I,off:S,css:h,find:hn,is:function(e,n){return!!Y(e,n,e,!1)},extend:ni,throttle:gn,closest:Y,toggleClass:N,clone:bn,index:H,nextTick:Ge,cancelNextTick:ut,detectDirection:En,getChild:Ee};p.get=function(t){return t[j]};p.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(p.utils=W(W({},p.utils),i.utils)),Me.mount(i)})};p.create=function(t,e){return new p(t,e)};p.version=ei;var T=[],xe,ht,pt=!1,ot,st,Ze,Te;function Si(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):this.options.supportPointer?I(document,"pointermove",this._handleFallbackAutoScroll):i.touches?I(document,"touchmove",this._handleFallbackAutoScroll):I(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),kt(),We(),ii()},nulling:function(){Ze=ht=xe=pt=Te=ot=st=null,T.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var a=this,r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(r,o);if(Ze=n,i||this.options.forceAutoScrollFallback||ke||Z||_e){lt(n,this.options,s,i);var l=ie(s,!0);pt&&(!Te||r!==ot||o!==st)&&(Te&&kt(),Te=setInterval(function(){var c=ie(document.elementFromPoint(r,o),!0);c!==l&&(l=c,We()),lt(n,a.options,c,i)},10),ot=r,st=o)}else{if(!this.options.bubbleScroll||ie(s,!0)===G()){We();return}lt(n,this.options,ie(s,!1),!1)}}},V(t,{pluginName:"scroll",initializeByDefault:!0})}function We(){T.forEach(function(t){clearInterval(t.pid)}),T=[]}function kt(){clearInterval(Te)}var lt=gn(function(t,e,n,i){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,s=e.scrollSpeed,l=G(),c=!1,f;ht!==n&&(ht=n,We(),xe=e.scroll,f=e.scrollFn,xe===!0&&(xe=ie(n,!0)));var u=0,g=xe;do{var E=g,y=_(E),b=y.top,B=y.bottom,U=y.left,L=y.right,z=y.width,k=y.height,ae=void 0,X=void 0,re=E.scrollWidth,ye=E.scrollHeight,M=h(E),Se=E.scrollLeft,Q=E.scrollTop;E===l?(ae=z<re&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),X=k<ye&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(ae=z<re&&(M.overflowX==="auto"||M.overflowX==="scroll"),X=k<ye&&(M.overflowY==="auto"||M.overflowY==="scroll"));var Ie=ae&&(Math.abs(L-a)<=o&&Se+z<re)-(Math.abs(U-a)<=o&&!!Se),K=X&&(Math.abs(B-r)<=o&&Q+k<ye)-(Math.abs(b-r)<=o&&!!Q);if(!T[u])for(var oe=0;oe<=u;oe++)T[oe]||(T[oe]={});(T[u].vx!=Ie||T[u].vy!=K||T[u].el!==E)&&(T[u].el=E,T[u].vx=Ie,T[u].vy=K,clearInterval(T[u].pid),(Ie!=0||K!=0)&&(c=!0,T[u].pid=setInterval((function(){i&&this.layer===0&&p.active._onTouchMove(Ze);var we=T[this.layer].vy?T[this.layer].vy*s:0,J=T[this.layer].vx?T[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[j],J,we,t,Ze,T[this.layer].el)!=="continue"||mn(T[this.layer].el,J,we)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&g!==l&&(g=ie(g,!1)));pt=c}},30),wn=function(e){var n=e.originalEvent,i=e.putSortable,a=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=i||r;s();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,u=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:a,putSortable:i}))}};function St(){}St.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var a=Ee(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:wn};V(St,{pluginName:"revertOnSpill"});function It(){}It.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,a=i||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:wn};V(It,{pluginName:"removeOnSpill"});p.mount(new Si);p.mount(It,St);const Je=new Set,Ii={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function wi(t){if(Dn(t))return;Cn(t),Je.add(t);const e="id",{group:n,handleSelector:i,dragSelector:a}=t;t.sortable=p.create(t.el,{dataIdAttr:e,...Ii,...!!a&&{draggable:a},...!!n&&{group:{name:n,...!!t.canPull&&{pull:(r,o,s,{newIndex:l,oldIndex:c})=>t.canPull({toEl:r.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})},...!!t.canPut&&{put:(r,o,s,{newIndex:l,oldIndex:c})=>t.canPut({toEl:r.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})}}},handle:i,filter:`${i}[disabled]`,onStart:({from:r,item:o,to:s,newIndex:l,oldIndex:c})=>{gt.active=!0,Ci(),t.onDragStart({fromEl:r,dragEl:o,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:r,item:o,to:s,newIndex:l,oldIndex:c})=>{gt.active=!1,Di(),t.onDragEnd({fromEl:r,dragEl:o,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:r,item:o,to:s,newIndex:l,oldIndex:c})=>{t.onDragSort({fromEl:r,dragEl:o,toEl:s,newIndex:l,oldIndex:c})}})}function Cn(t){var e;Dn(t)||(Je.delete(t),(e=t.sortable)==null||e.destroy(),t.sortable=null)}const gt={active:!1};function Dn(t){return t.dragEnabled&&gt.active}function Ci(){Array.from(Je).forEach(t=>t.onGlobalDragStart())}function Di(){Array.from(Je).forEach(t=>t.onGlobalDragEnd())}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.0
 */const pe={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},be={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},xi=":host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, 0.75rem);padding-block:var(--calcite-stack-padding-block, 0.5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}",Ti=xi,_i=mt(class extends bt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleActionsStartSlotChange=e=>{this.hasActionsStart=fe(e)},this.handleActionsEndSlotChange=e=>{this.hasActionsEnd=fe(e)},this.handleContentStartSlotChange=e=>{this.hasContentStart=fe(e)},this.handleContentEndSlotChange=e=>{this.hasContentEnd=fe(e)},this.disabled=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasContentStart=!1,this.hasContentEnd=!1}renderActionsStart(){const{hasActionsStart:e}=this;return v("div",{class:pe.actionsStart,hidden:!e,key:"actions-start-container"},v("slot",{name:be.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{hasActionsEnd:e}=this;return v("div",{class:pe.actionsEnd,hidden:!e,key:"actions-end-container"},v("slot",{name:be.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}))}renderContentStart(){const{hasContentStart:e}=this;return v("div",{class:pe.contentStart,hidden:!e},v("slot",{name:be.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderDefaultContent(){return v("div",{class:pe.content},v("slot",null))}renderContentEnd(){const{hasContentEnd:e}=this;return v("div",{class:pe.contentEnd,hidden:!e},v("slot",{name:be.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}render(){return v(Hn,{key:"6469377ccf7311aefda5e864aac7cb5870b24ded"},v("div",{key:"d897fc4e108392784147cc0c8ed0a4bf5d347ca1",class:pe.container},this.renderActionsStart(),this.renderContentStart(),this.renderDefaultContent(),this.renderContentEnd(),this.renderActionsEnd()))}static get style(){return Ti}},[1,"calcite-stack",{disabled:[516],hasActionsStart:[32],hasActionsEnd:[32],hasContentStart:[32],hasContentEnd:[32]}]);function xn(){if(typeof customElements>"u")return;["calcite-stack"].forEach(e=>{switch(e){case"calcite-stack":customElements.get(e)||customElements.define(e,_i);break}})}xn();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.0
 */function Ai(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}var Oi=Array.isArray;const Tn=Oi;var Li=1/0,Mt=Dt?Dt.prototype:void 0,Nt=Mt?Mt.toString:void 0;function _n(t){if(typeof t=="string")return t;if(Tn(t))return Ai(t,_n)+"";if(Kn(t))return Nt?Nt.call(t):"";var e=t+"";return e=="0"&&1/t==-Li?"-0":e}function Pi(t){return t}var Fi="[object AsyncFunction]",ki="[object Function]",Mi="[object GeneratorFunction]",Ni="[object Proxy]";function Ri(t){if(!nn(t))return!1;var e=Et(t);return e==ki||e==Mi||e==Fi||e==Ni}var ji=9007199254740991,Hi=/^(?:0|[1-9]\d*)$/;function Bi(t,e){var n=typeof t;return e=e??ji,!!e&&(n=="number"||n!="symbol"&&Hi.test(t))&&t>-1&&t%1==0&&t<e}var zi=9007199254740991;function An(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zi}function $i(t){return t!=null&&An(t.length)&&!Ri(t)}var Xi=Object.prototype;function Yi(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xi;return t===n}function Gi(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var Wi="[object Arguments]";function Rt(t){return vt(t)&&Et(t)==Wi}var On=Object.prototype,Ui=On.hasOwnProperty,Ki=On.propertyIsEnumerable,qi=Rt(function(){return arguments}())?Rt:function(t){return vt(t)&&Ui.call(t,"callee")&&!Ki.call(t,"callee")};const Vi=qi;function Zi(){return!1}var Ln=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=Ln&&typeof module=="object"&&module&&!module.nodeType&&module,Qi=jt&&jt.exports===Ln,Ht=Qi?Wn.Buffer:void 0,Ji=Ht?Ht.isBuffer:void 0,ea=Ji||Zi;const ta=ea;var na="[object Arguments]",ia="[object Array]",aa="[object Boolean]",ra="[object Date]",oa="[object Error]",sa="[object Function]",la="[object Map]",ca="[object Number]",da="[object Object]",fa="[object RegExp]",ua="[object Set]",ha="[object String]",pa="[object WeakMap]",ga="[object ArrayBuffer]",ma="[object DataView]",ba="[object Float32Array]",va="[object Float64Array]",Ea="[object Int8Array]",ya="[object Int16Array]",Sa="[object Int32Array]",Ia="[object Uint8Array]",wa="[object Uint8ClampedArray]",Ca="[object Uint16Array]",Da="[object Uint32Array]",w={};w[ba]=w[va]=w[Ea]=w[ya]=w[Sa]=w[Ia]=w[wa]=w[Ca]=w[Da]=!0;w[na]=w[ia]=w[ga]=w[aa]=w[ma]=w[ra]=w[oa]=w[sa]=w[la]=w[ca]=w[da]=w[fa]=w[ua]=w[ha]=w[pa]=!1;function xa(t){return vt(t)&&An(t.length)&&!!w[Et(t)]}function Ta(t){return function(e){return t(e)}}var Pn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fe=Pn&&typeof module=="object"&&module&&!module.nodeType&&module,_a=Fe&&Fe.exports===Pn,ct=_a&&Un.process,Aa=function(){try{var t=Fe&&Fe.require&&Fe.require("util").types;return t||ct&&ct.binding&&ct.binding("util")}catch{}}();const Bt=Aa;var zt=Bt&&Bt.isTypedArray,Oa=zt?Ta(zt):xa;const La=Oa;function Pa(t,e){var n=Tn(t),i=!n&&Vi(t),a=!n&&!i&&ta(t),r=!n&&!i&&!a&&La(t),o=n||i||a||r,s=o?Gi(t.length,String):[],l=s.length;for(var c in t)o&&(c=="length"||a&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Bi(c,l))||s.push(c);return s}function Fa(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ka=Object.prototype,Ma=ka.hasOwnProperty;function Na(t){if(!nn(t))return Fa(t);var e=Yi(t),n=[];for(var i in t)i=="constructor"&&(e||!Ma.call(t,i))||n.push(i);return n}function Ra(t){return $i(t)?Pa(t):Na(t)}function ja(t){return t==null?"":_n(t)}function Ha(t){return function(e,n,i){for(var a=-1,r=Object(e),o=i(e),s=o.length;s--;){var l=o[++a];if(n(r[l],l,r)===!1)break}return e}}var Ba=Ha();const za=Ba;function $a(t){return typeof t=="function"?t:Pi}var Fn=/[\\^$.*+?()[\]{}|]/g,Xa=RegExp(Fn.source);function Ya(t){return t=ja(t),t&&Xa.test(t)?t.replace(Fn,"\\$&"):t}function Ga(t,e){return t==null?t:za(t,$a(e),Ra)}const $t=(t,e,n)=>{const i=Ya(e),a=new RegExp(i,"i");t.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const r=(o,s,l)=>{if(o!=null&&o.constant||o!=null&&o.filterDisabled)return!0;let c=!1;return Ga(o,(f,u)=>{typeof f=="function"||f==null||l&&!l.includes(u)||(Array.isArray(f)||typeof f=="object"&&f!==null?r(f,s)&&(c=!0):s.test(f)&&(c=!0))}),c};return t.filter(o=>r(o,a,n))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.0
 */const Wa={container:"container",searchIcon:"search-icon"},Ua={search:"search",close:"x"},Ka=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}",qa=Ka,Va=mt(class extends bt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=ce(this,"calciteFilterChange",6),this.filterDebounced=an((e,n=!1,i)=>this.items.length&&this.updateFiltered($t(this.items,e,this.filterProps),n,i),Bn.filter),this.inputHandler=e=>{const n=e.target;this.value=n.value,this.filterDebounced(n.value,!0)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.filterProps=void 0,this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}filterPropsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(e){this.filterDebounced(e)}effectiveLocaleChange(){Vt(this,this.effectiveLocale)}async componentWillLoad(){Ut(this),this.items.length&&this.updateFiltered($t(this.items,this.value,this.filterProps)),await Zt(this)}connectedCallback(){Xt(this),en(this),Qt(this)}componentDidRender(){Yt(this)}disconnectedCallback(){Gt(this),tn(this),Jt(this),this.filterDebounced.cancel()}componentDidLoad(){Kt(this)}async filter(e=this.value){return new Promise(n=>{this.value=e,this.filterDebounced(e,!1,n)})}async setFocus(){var e;return await qt(this),(e=this.textInput)==null?void 0:e.setFocus()}updateFiltered(e,n=!1,i){this.filteredItems=e,n&&this.calciteFilterChange.emit(),i==null||i()}render(){const{disabled:e,scale:n}=this;return v(Wt,{key:"da4ff667fdb02ae8b85c56cd717b416f3256145d",disabled:e},v("div",{key:"f4406a403101afa7c97da11f8408fa464aa8a08c",class:Wa.container},v("label",{key:"aace74138ebea71058044e05d4fe44cb7ee6beb2"},v("calcite-input",{key:"cc7dca3364cc73bf42a78d76155477af98d72552",clearable:!0,disabled:e,icon:Ua.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:i=>{this.textInput=i},scale:n,type:"text",value:this.value}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return qa}},[17,"calcite-filter",{items:[16],disabled:[516],filteredItems:[1040],filterProps:[16],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],filter:[64],setFocus:[64]},void 0,{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function kn(){if(typeof customElements>"u")return;["calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-progress"].forEach(e=>{switch(e){case"calcite-filter":customElements.get(e)||customElements.define(e,Va);break;case"calcite-icon":customElements.get(e)||rn();break;case"calcite-input":customElements.get(e)||sn();break;case"calcite-input-message":customElements.get(e)||ln();break;case"calcite-progress":customElements.get(e)||on();break}})}kn();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.0
 */const ee={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},Za=0,dt={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},Qa=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%;border-collapse:collapse}.stack{--calcite-stack-padding-inline:0;--calcite-stack-padding-block:0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-color-foreground-1)}.sticky-pos th{padding:0px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}",Ja=Qa,ze="calcite-list-item",er="calcite-list-item-group, calcite-list-item",Mn=mt(class extends bt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=ce(this,"calciteListChange",6),this.calciteListDragEnd=ce(this,"calciteListDragEnd",6),this.calciteListDragStart=ce(this,"calciteListDragStart",6),this.calciteListFilter=ce(this,"calciteListFilter",6),this.calciteListOrderChange=ce(this,"calciteListOrderChange",6),this.calciteInternalListDefaultSlotChange=ce(this,"calciteInternalListDefaultSlotChange",6),this.dragSelector=ze,this.focusableItems=[],this.handleSelector="calcite-handle",this.listItems=[],this.mutationObserver=$n("mutation",()=>this.updateListItems()),this.visibleItems=[],this.handleDefaultSlotChange=e=>{Yn(Gn(e.target)),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()},this.handleFilterActionsStartSlotChange=e=>{this.hasFilterActionsStart=fe(e)},this.handleFilterActionsEndSlotChange=e=>{this.hasFilterActionsEnd=fe(e)},this.handleFilterNoResultsSlotChange=e=>{this.hasFilterNoResults=fe(e)},this.setActiveListItem=()=>{const{focusableItems:e}=this;e.some(n=>n.active)||e[0]&&(e[0].active=!0)},this.updateSelectedItems=(e=!1)=>{this.selectedItems=this.visibleItems.filter(n=>n.selected),e&&this.calciteListChange.emit()},this.borderItems=()=>{const e=this.visibleItems.filter(n=>!n.filterHidden&&this.allParentListItemsOpen(n));e.forEach(n=>n.bordered=n!==e[e.length-1])},this.updateFilteredItems=(e=!1)=>{const{visibleItems:n,filteredData:i,filterText:a}=this,r=i.map(c=>c.value),o=n==null?void 0:n.filter(c=>n.every(f=>f===c||!c.contains(f))),s=n.filter(c=>!a||r.includes(c.value))||[],l=new WeakSet;o.forEach(c=>this.filterElements({el:c,filteredItems:s,visibleParents:l})),this.filteredItems=s,e&&this.calciteListFilter.emit()},this.setFilterEl=e=>{this.filterEl=e,this.performFilter()},this.handleFilterChange=e=>{e.stopPropagation();const{value:n}=e.currentTarget;this.filterText=n,this.updateFilteredData(!0)},this.getItemData=()=>this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value})),this.updateListItems=an((e=!1)=>{const{selectionAppearance:n,selectionMode:i,dragEnabled:a,el:r}=this,o=Array.from(this.el.querySelectorAll(ze));if(o.forEach(s=>{s.selectionAppearance=n,s.selectionMode=i,s.closest("calcite-list")===r&&(s.dragHandle=a)}),this.parentListEl){this.setUpSorting();return}this.listItems=o,this.filterEnabled&&(this.dataForFilter=this.getItemData(),this.filterEl&&(this.filterEl.items=this.dataForFilter)),this.visibleItems=this.listItems.filter(s=>!s.closed&&!s.hidden),this.updateFilteredItems(e),this.borderItems(),this.focusableItems=this.filteredItems.filter(s=>!s.disabled),this.setActiveListItem(),this.updateSelectedItems(e),this.setUpSorting()},Za),this.focusRow=e=>{const{focusableItems:n}=this;e&&(n.forEach(i=>i.active=i===e),e.setFocus())},this.isNavigable=e=>{var i;const n=(i=e.parentElement)==null?void 0:i.closest(ze);return n?n.open&&this.isNavigable(n):!0},this.handleListKeydown=e=>{var r;if(e.defaultPrevented||this.parentListEl)return;const{key:n}=e,i=this.focusableItems.filter(o=>this.isNavigable(o)),a=i.findIndex(o=>o.active);if(n==="ArrowDown"){e.preventDefault();const o=e.target===this.filterEl?0:a+1;i[o]&&this.focusRow(i[o])}else if(n==="ArrowUp"){if(e.preventDefault(),a===0&&this.filterEnabled){(r=this.filterEl)==null||r.setFocus();return}const o=a-1;i[o]&&this.focusRow(i[o])}else if(n==="Home"){e.preventDefault();const o=i[0];o&&this.focusRow(o)}else if(n==="End"){e.preventDefault();const o=i[i.length-1];o&&this.focusRow(o)}},this.disabled=!1,this.canPull=void 0,this.canPut=void 0,this.dragEnabled=!1,this.group=void 0,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.filterProps=void 0,this.messageOverrides=void 0,this.messages=void 0,this.numberingSystem=void 0,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.effectiveLocale="",this.defaultMessages=void 0,this.assistiveText=void 0,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1}async handleFilterTextChange(){this.performFilter()}async handlefilterPropsChange(){this.performFilter()}onMessagesChange(){}handleListItemChange(){this.updateListItems()}handleCalciteListItemToggle(e){this.parentListEl||(e.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(e){if(this.parentListEl)return;e.stopPropagation();const{focusableItems:n}=this,a=n.findIndex(r=>r.active)-1;n[a]&&this.focusRow(n[a])}handleCalciteInternalListItemActive(e){if(this.parentListEl)return;e.stopPropagation();const n=e.target,{listItems:i}=this;i.forEach(a=>{a.active=a===n})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(e){this.assistiveText=e.detail.message,e.stopPropagation()}handleCalciteHandleNudge(e){this.parentListEl||this.handleNudgeEvent(e)}handleCalciteInternalListItemSelect(e){if(this.parentListEl)return;e.stopPropagation();const n=e.target,{listItems:i,selectionMode:a}=this;n.selected&&(a==="single"||a==="single-persist")&&i.forEach(r=>r.selected=r===n),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(e){if(this.parentListEl)return;e.stopPropagation();const{target:n,detail:i}=e,{focusableItems:a,lastSelectedInfo:r}=this,o=n;if(i.selectMultiple&&r){const s=a.indexOf(o),l=a.indexOf(r.selectedItem),c=Math.min(l,s),f=Math.max(l,s);a.slice(c,f+1).forEach(u=>u.selected=r.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(e){this.parentListEl||(e.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(e){e.stopPropagation()}connectedCallback(){en(this),Qt(this),this.connectObserver(),this.updateListItems(),this.setUpSorting(),Xt(this),this.setParentList()}async componentWillLoad(){Ut(this),await Zt(this)}componentDidRender(){Yt(this)}componentDidLoad(){Kt(this)}disconnectedCallback(){this.disconnectObserver(),Cn(this),Gt(this),tn(this),Jt(this)}effectiveLocaleChange(){Vt(this,this.effectiveLocale)}async setFocus(){var e,n;return await qt(this),this.filterEnabled?(e=this.filterEl)==null?void 0:e.setFocus():(n=this.focusableItems.find(i=>i.active))==null?void 0:n.setFocus()}render(){const{loading:e,label:n,disabled:i,dataForFilter:a,filterEnabled:r,filterPlaceholder:o,filterText:s,filteredItems:l,hasFilterActionsStart:c,hasFilterActionsEnd:f,hasFilterNoResults:u,filterProps:g}=this;return v(Wt,{key:"84991009060a8b97b9901ca97f32b32fa6e830fa",disabled:this.disabled},v("div",{key:"27f5a904be599be5768bb1a7693111573e745e0f",class:ee.container},this.dragEnabled?v("span",{"aria-live":"assertive",class:ee.assistiveText},this.assistiveText):null,this.renderItemAriaLive(),e?v("calcite-scrim",{class:ee.scrim,loading:e}):null,v("table",{key:"dd343a43f26edcb50f87a064a41471756a94afeb","aria-busy":zn(e),"aria-label":n||"",class:ee.table,onKeyDown:this.handleListKeydown,role:"treegrid"},r||c||f?v("thead",{class:ee.sticky},v("tr",null,v("th",{colSpan:Xn},v("calcite-stack",{class:ee.stack},v("slot",{name:dt.filterActionsStart,onSlotchange:this.handleFilterActionsStartSlotChange,slot:be.actionsStart}),v("calcite-filter",{"aria-label":o,disabled:i,filterProps:g,items:a,onCalciteFilterChange:this.handleFilterChange,placeholder:o,ref:this.setFilterEl,value:s}),v("slot",{name:dt.filterActionsEnd,onSlotchange:this.handleFilterActionsEndSlotChange,slot:be.actionsEnd}))))):null,v("tbody",{key:"90a288eea3e02d5261e369e14b687852c1ff876b",class:ee.tableContainer},v("slot",{key:"08992c3c5ad4d5afe86e7e1cd38327c5f4281bd1",onSlotchange:this.handleDefaultSlotChange}))),v("div",{key:"689185b56a2990e00a409ddbc4e4c135115791d3","aria-live":"polite","data-test-id":"no-results-container",hidden:!(u&&r&&s&&!l.length)},v("slot",{key:"929ef7f843f5c8e7290a3cbcebea8c5c4cf38707",name:dt.filterNoResults,onSlotchange:this.handleFilterNoResultsSlotChange}))))}renderItemAriaLive(){const{messages:e,filteredItems:n,parentListEl:i,effectiveLocale:a,numberingSystem:r,filterEnabled:o,filterText:s,filteredData:l}=this;return Ct.numberFormatOptions={locale:a,numberingSystem:r},i?null:v("div",{"aria-live":"polite",class:ee.assistiveText},o&&s&&(l!=null&&l.length)?v("div",{key:"aria-filter-enabled"},e.filterEnabled):null,v("div",{key:"aria-item-count"},e.total.replace("{count}",Ct.localize(n.length.toString()))),n.length?v("ol",{key:"aria-item-list"},n.map(c=>v("li",null,c.label))):null)}connectObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){var e;(e=this.mutationObserver)==null||e.disconnect()}setUpSorting(){const{dragEnabled:e}=this;e&&wi(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(e){this.calciteListDragEnd.emit(e)}onDragStart(e){this.calciteListDragStart.emit(e)}onDragSort(e){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(e)}setParentList(){var e;this.parentListEl=(e=this.el.parentElement)==null?void 0:e.closest("calcite-list")}filterElements({el:e,filteredItems:n,visibleParents:i}){const a=!i.has(e)&&!n.includes(e);e.filterHidden=a;const r=e.parentElement.closest(er);r&&(a||i.add(r),this.filterElements({el:r,filteredItems:n,visibleParents:i}))}allParentListItemsOpen(e){var i;const n=(i=e.parentElement)==null?void 0:i.closest(ze);if(n){if(!n.open)return!1}else return!0;return this.allParentListItemsOpen(n)}updateFilteredData(e=!1){const{filterEl:n}=this;n&&(n.filteredItems&&(this.filteredData=n.filteredItems),this.updateListItems(e))}async performFilter(){const{filterEl:e,filterText:n,filterProps:i}=this;e&&(e.value=n,e.filterProps=i,await e.filter(n),this.updateFilteredData())}handleNudgeEvent(e){const{handleSelector:n,dragSelector:i}=this,{direction:a}=e.detail,r=e.composedPath(),o=r.find(b=>(b==null?void 0:b.tagName)&&b.matches(n)),s=r.find(b=>(b==null?void 0:b.tagName)&&b.matches(i)),l=s==null?void 0:s.parentElement;if(!l)return;const{filteredItems:c}=this,f=c.filter(b=>b.parentElement===l),u=f.length-1,g=f.indexOf(s);let E;a==="up"?E=g===0?u:g-1:E=g===u?0:g+1,this.disconnectObserver(),o.blurUnselectDisabled=!0;const y=a==="up"&&E!==u||a==="down"&&E===0?f[E]:f[E].nextSibling;l.insertBefore(s,y),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:s,fromEl:l,toEl:l,newIndex:E,oldIndex:g}),o.setFocus().then(()=>o.blurUnselectDisabled=!1)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{filterText:["handleFilterTextChange"],filterProps:["handlefilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ja}},[1,"calcite-list",{disabled:[516],canPull:[16],canPut:[16],dragEnabled:[516,"drag-enabled"],group:[513],filterEnabled:[516,"filter-enabled"],filteredItems:[1040],filteredData:[1040],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],label:[1],loading:[516],filterProps:[16],messageOverrides:[1040],messages:[1040],numberingSystem:[1,"numbering-system"],openable:[4],selectedItems:[1040],selectionMode:[513,"selection-mode"],selectionAppearance:[513,"selection-appearance"],effectiveLocale:[32],defaultMessages:[32],assistiveText:[32],dataForFilter:[32],hasFilterActionsEnd:[32],hasFilterActionsStart:[32],hasFilterNoResults:[32],setFocus:[64]},[[0,"calciteInternalListItemToggle","handleCalciteListItemToggle"],[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteInternalListItemActive"],[0,"calciteListItemSelect","handleCalciteListItemSelect"],[0,"calciteInternalAssistiveTextChange","handleCalciteInternalAssistiveTextChange"],[0,"calciteHandleNudge","handleCalciteHandleNudge"],[0,"calciteInternalListItemSelect","handleCalciteInternalListItemSelect"],[0,"calciteInternalListItemSelectMultiple","handleCalciteInternalListItemSelectMultiple"],[0,"calciteInternalListItemChange","handleCalciteInternalListItemChange"],[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListItemGroupDefaultSlotChange"]],{filterText:["handleFilterTextChange"],filterProps:["handlefilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Nn(){if(typeof customElements>"u")return;["calcite-list","calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-loader","calcite-progress","calcite-scrim","calcite-stack"].forEach(e=>{switch(e){case"calcite-list":customElements.get(e)||customElements.define(e,Mn);break;case"calcite-filter":customElements.get(e)||kn();break;case"calcite-icon":customElements.get(e)||rn();break;case"calcite-input":customElements.get(e)||sn();break;case"calcite-input-message":customElements.get(e)||ln();break;case"calcite-loader":customElements.get(e)||qn();break;case"calcite-progress":customElements.get(e)||on();break;case"calcite-scrim":customElements.get(e)||Vn();break;case"calcite-stack":customElements.get(e)||xn();break}})}Nn();const Cr=Mn,Dr=Nn;export{Cr as CalciteList,Dr as defineCustomElement};
